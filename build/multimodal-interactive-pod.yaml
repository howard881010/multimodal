apiVersion: v1
kind: Pod
metadata:
  labels:
    project: multimodal
    user: howard
  name: rtxa6000-multimodal-interactive-pod
  namespace: spatiotemporal-decision-making
spec:
  containers:
  - command:
    - conda
    - run
    - -n
    - multimodal
    - /bin/bash
    - -c
    - echo IyEvYmluL2Jhc2gKbWtkaXIgLXAgY29uZmlnCmdpdCBwdWxsCmdpdCBzdWJtb2R1bGUgdXBkYXRlIC0taW5pdCAtLXJlY3Vyc2l2ZQplY2hvICJjb25kYSBhY3RpdmF0ZSBtdWx0aW1vZGFsOyAiID4+IH4vLmJhc2hyYwpleHBvcnQgUEFUSD0iL29wdC9jb25kYS9lbnZzL211bHRpbW9kYWwvYmluLzokUEFUSCIKZWNobyAnaWYgWyAtZiAiJEhPTUUvc3JjL3Rvb2xib3gvczNyZWdpb24uc2giIF07IHRoZW4gc291cmNlICIkSE9NRS9zcmMvdG9vbCBvdXRib3gvczNyZWdpb24uc2giOyBmaScgPj4gfi8uYmFzaHJjCmlmIFsgLWYgc3JjL3Rvb2xib3gvczNyZWdpb24uc2ggXTsgdGhlbgogICAgY2htb2QgK3ggc3JjL3Rvb2xib3gvczNyZWdpb24uc2gKICAgIHNvdXJjZSBzcmMvdG9vbGJveC9zM3JlZ2lvbi5zaApmaQplY2hvICdJeUJUTTE5Q1ZVTkxSVlJmVGtGTlJUMXRNbVp2Y21WallYTjBDaU1nUVZkVFgwRkRRMFZUVTE5TFJWbGZTVVE5UjJOUFFucHpOMFEyT1VwaGEydDZRa0pJUkcwS0l5QkJWMU5mVTBWRFVrVlVYMEZEUTBWVFUxOUxSVms5UVRSdGVtMXRVbnBJVjJGM1dUbERPWFkxYVZWTlVWbHBWM0JGV1dKdVFWQldaRWd4U1ZKM1NBb2pJRk16WDBWT1JGQlBTVTVVWDFWU1REMW9kSFJ3Y3pvdkwzSnZjMlZrWVhSaExuVmpjMlF1WldSMUNraEdYMVJQUzBWT1BXaG1YMk5vU1ZOb1ZYTnNUVWhZWm0xR1RYaDFia2RaZVdSR2RVVndSVkYzVVdOcVJFNEtWMEZPUkVKZlFWQkpYMHRGV1Qxc2IyTmhiQzFtTTJNMll6QXhZbU5oT0dKbE1EWTFaRFJoTkRVeFlURXhOV1kzTUdJd09UaGtZamN6TmpBMENpTWdWMEZPUkVKZlFWQkpYMHRGV1QwNU1HUmpPR00wTURnNVl6SXhNelk0WWpZeFpqWmtNakEyT1dRek9ESXlOR1F5TXpZMFkyWTNDa2RKVkY5VlUwVlNUa0ZOUlQxb2IzZGhjbVE0T0RFd01UQUtSMGxVWDFCQlUxTlhUMUpFUFdkb2NGOTVVMDVyTjNKUVMyaERlR1V3ZW0xaWQweDZNakJaYVhSMWFHZHFRM2swTlRod1ZGUUtWMEZPUkVKZlFrRlRSVjlWVWt3OWFIUjBjSE02THk5eWIzTmxkMkZ1WkdJdWRXTnpaQzVsWkhVS1FWZFRYMEZEUTBWVFUxOUxSVmxmU1VROU9EUTJURkkxU0VRek1UTkRUVGxPVFRRMlNqTUtRVmRUWDFORlExSkZWRjlCUTBORlUxTmZTMFZaUFV4UlRHeFJSM0ZhU0RWdVNVTktSMUZWT1VKTVVuWlBURXh0U1haTlRrRm5kVkpVWkc1VVZUQUtVek5mUlU1RVVFOUpUbFJmVlZKTVBXaDBkSEJ6T2k4dmN6TXRkMlZ6ZEM1dWNuQXRibUYxZEdsc2RYTXVhVzg9JyB8IGJhc2U2NCAtZCB8IHRyIC1kICdccicgPiAnLmVudicgJiYgZWNobyA+PiAnLmVudicgCmVjaG8gJ2NISnZhbVZqZEY5dVlXMWxPaUJ0ZFd4MGFXMXZaR0ZzQ201aGJXVnpjR0ZqWlRvZ2MzQmhkR2x2ZEdWdGNHOXlZV3d0WkdWamFYTnBiMjR0YldGcmFXNW5DblZ6WlhJNklHaHZkMkZ5WkFweVpXZHBjM1J5ZVY5b2IzTjBPaUJuYVhSc1lXSXRjbVZuYVhOMGNua3Vibkp3TFc1aGRYUnBiSFZ6TG1sdkNuTnphRjlvYjNOME9pQm5hWFJzWVdJdGMzTm9MbTV5Y0MxdVlYVjBhV3gxY3k1cGJ3cHpjMmhmY0c5eWREb2dNekEyTWpJS1kyOXVaR0ZmYUc5dFpUb2dMMjl3ZEM5amIyNWtZUXBwYldGblpUb2daMmwwYkdGaUxYSmxaMmx6ZEhKNUxtNXljQzF1WVhWMGFXeDFjeTVwYnk5b2IzZGhjbVF2YlhWc2RHbHRiMlJoYkRwc1lYUmxjM1FLWjNCMVgzZG9hWFJsYkdsemREb0tJQ0F0SUU1V1NVUkpRUzFIWlVadmNtTmxMVkpVV0Mwek1Ea3dDaUFnTFNCT1ZrbEVTVUV0UVRFdycgfCBiYXNlNjQgLWQgfCB0ciAtZCAnXHInID4gJ2NvbmZpZy9rdWJlLnlhbWwnICYmIGVjaG8gPj4gJ2NvbmZpZy9rdWJlLnlhbWwnIA== | base64 -d > startup.sh && chmod +x startup.sh && source startup.sh; sleep infinity
    env:
    - name: PYTHONUNBUFFERED
      value: '1'
    - name: PYTHONIOENCODING
      value: UTF-8
    - name: NODE_NAME
      valueFrom:
        fieldRef:
          fieldPath: spec.nodeName
    - name: HF_TOKEN
      value: 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
    - name: WANDB_API_KEY
      value: local-f3c6c01bca8be065d4a451a115f70b098db73604
    - name: GIT_USERNAME
      value: howard881010
    - name: GIT_PASSWORD
      value: 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
    - name: WANDB_BASE_URL
      value: https://rosewandb.ucsd.edu
    - name: AWS_ACCESS_KEY_ID
      value: 846LR5HD313CM9NM46J3
    - name: AWS_SECRET_ACCESS_KEY
      value: LQLlQGqZH5nICJGQU9BLRvOLLmIvMNAguRTdnTU0
    - name: S3_ENDPOINT_URL
      value: http://rook-ceph-rgw-nautiluss3.rook
    - name: PYTHONPATH
      value: src
    image: gitlab-registry.nrp-nautilus.io/howard/multimodal:latest
    name: gpu-container
    resources:
      limits:
        cpu: '6'
        ephemeral-storage: 100G
        memory: 32G
        nvidia.com/rtxa6000: '1'
      requests:
        cpu: '5'
        ephemeral-storage: 100G
        memory: 32G
        nvidia.com/rtxa6000: '1'
    volumeMounts:
    - mountPath: /dev/shm
      name: dshm
  imagePullSecrets:
  - name: multimodal-read-registry
  restartPolicy: Never
  tolerations: []
  volumes:
  - emptyDir:
      medium: Memory
    name: dshm
